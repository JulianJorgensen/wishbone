(this["webpackJsonpwishbonehat.com"]=this["webpackJsonpwishbonehat.com"]||[]).push([[0],{109:function(e,t){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(21),i=a.n(r),o=a(11),l=a(2),s=a(3),u=a(4),m=a(6),d=a(5),h=a(40),v=a.n(h),p=a(13),f=a(11).connect,E=a(18),C=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={navActive:!1},e.handleNavToggle=e.handleNavToggle.bind(Object(p.a)(e)),e.closeNav=e.closeNav.bind(Object(p.a)(e)),e}return Object(u.a)(a,[{key:"handleNavToggle",value:function(){this.setState({navActive:!this.state.navActive})}},{key:"closeNav",value:function(){this.setState({navActive:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=(t.cartItems,function(){return c.a.createElement("div",null,c.a.createElement("li",{className:"site-nav-item"},c.a.createElement(l.a,{onClick:e.closeNav,to:"/",activeClassName:"active"},"Home")),c.a.createElement("li",{className:"site-nav-item"},c.a.createElement(l.c,{onClick:e.closeNav,to:"/hats",activeClassName:"active"},"Hats")),c.a.createElement("li",{className:"site-nav-item"},c.a.createElement(l.c,{onClick:e.closeNav,to:"/about",activeClassName:"active"},"About")),c.a.createElement("li",{className:"site-nav-item"},c.a.createElement(l.c,{onClick:e.closeNav,to:"/contact",activeClassName:"active"},"Contact")),c.a.createElement("li",{className:"site-nav-item"},c.a.createElement(l.c,{onClick:function(){e.closeNav(),a(E.openCart())}},"Cart")))});return c.a.createElement("div",{id:"site-header-wrapper"},c.a.createElement("div",{className:"container"},c.a.createElement("header",{id:"site-header"},c.a.createElement("div",{id:"site-logo"},c.a.createElement(l.a,{to:"/",activeClassName:"active"},c.a.createElement("img",{src:"/images/logo.png"}))),c.a.createElement("nav",{id:"site-nav",className:"show-for-large"},n()),c.a.createElement("div",{className:"mobile-nav-icon"},c.a.createElement("i",{onClick:this.handleNavToggle,className:"fa ".concat(this.state.navActive?"fa-times":"fa-bars")})),c.a.createElement("nav",{id:"mobile-nav",className:"hide-for-large"},this.state.navActive?n():""))))}}]),a}(c.a.Component),b=f((function(e){return{cartItems:e.cart.lineItemsCount}}))(C),g=a(7),y=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){var t=g.a.getPage("footer-about").body_html;e.setState({aboutContent:t})}),2e3)}},{key:"render",value:function(){return c.a.createElement("footer",{id:"site-footer"},c.a.createElement("div",{className:"footer-wishbone"},c.a.createElement("img",{src:"/images/wishbone-footer.png"})),c.a.createElement("nav",{className:"footer-nav"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"footer-column"},c.a.createElement("div",{className:"footer-nav-headline"},"WISHBONE"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(l.a,{to:"/",activeClassName:"active"},"Home")),c.a.createElement("li",null,c.a.createElement(l.c,{to:"/hats",activeClassName:"active"},"Hats")),c.a.createElement("li",null,c.a.createElement(l.c,{to:"/about",activeClassName:"active"},"About")),c.a.createElement("li",null,c.a.createElement(l.c,{to:"/contact",activeClassName:"active"},"Contact")))),c.a.createElement("div",{className:"footer-column"},c.a.createElement("div",{className:"footer-nav-headline"},"About Wishbone Hats"),c.a.createElement("div",{className:"body",dangerouslySetInnerHTML:{__html:this.state.aboutContent}})),c.a.createElement("div",{className:"footer-column",id:"footer-socialmedia"},c.a.createElement("div",{className:"footer-nav-headline"},"Social Media"),c.a.createElement("a",{href:"https://www.instagram.com/wishbonehats/",target:"_new"},c.a.createElement("i",{className:"fa fa-instagram"})),c.a.createElement("a",{href:"https://www.facebook.com/WishboneHats-247362542342002/",target:"_new"},c.a.createElement("i",{className:"fa fa-facebook-square"})),c.a.createElement("a",{href:"https://www.pinterest.com/wishbonehats/",target:"_new"},c.a.createElement("i",{className:"fa fa-pinterest"}))))),c.a.createElement("div",{className:"footer-copyright"},"\xa9 WISHBONE HATS 2017"),c.a.createElement("ul",{className:"footer-payment"},c.a.createElement("li",null,c.a.createElement("i",{className:"fa fa-cc-amex"})),c.a.createElement("li",null,c.a.createElement("i",{className:"fa fa-cc-jcb"})),c.a.createElement("li",null,c.a.createElement("i",{className:"fa fa-cc-diners-club"})),c.a.createElement("li",null,c.a.createElement("i",{className:"fa fa-cc-discover"})),c.a.createElement("li",null,c.a.createElement("i",{className:"fa fa-cc-paypal"})),c.a.createElement("li",null,c.a.createElement("i",{className:"fa fa-cc-mastercard"})),c.a.createElement("li",null,c.a.createElement("i",{className:"fa fa-cc-visa"}))))}}]),a}(c.a.Component),N=a(14),O=a.n(N),_=a(11).connect,T=a(18),I=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.call(this)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.item,n=(e.incrementLineItem,e.quantity),r=function(e){t(T.startAddorUpdateCartItem(a,parseInt(e)))};return c.a.createElement("div",{className:"cart-item"},c.a.createElement("div",{className:"cart-item__img",style:{backgroundImage:"url("+a.imageVariants[2].src+")"}}),c.a.createElement("div",{className:"cart-item__content"},c.a.createElement("div",{className:"cart-item__content-row"},c.a.createElement("div",{className:"cart-item__variant-title"},a.variant_title),c.a.createElement("span",{className:"cart-item__title"},a.title)),c.a.createElement("div",{className:"cart-item__content-row"},"Charity"!==a.title?function(){if("Charities"!=a.title)return c.a.createElement("div",{className:"cart-item__quantity-container"},c.a.createElement("button",{className:"btn--seamless quantity-decrement",type:"button",onClick:function(){r(-1)}},c.a.createElement("span",null,"-"),c.a.createElement("span",{className:"hide"},"Decrement")),c.a.createElement("input",{value:n,className:"cart-item__quantity",type:"number",min:"0",readOnly:!0}),c.a.createElement("button",{className:"btn--seamless quantity-increment",type:"button",onClick:function(){r(1)}},c.a.createElement("span",null,"+"),c.a.createElement("span",{className:"hide"},"Increment")))}():"",c.a.createElement("span",{className:"cart-item__price"},"Charity"!=a.title?O.a.formatAsMoney(a.price*n):""))))}}]),a}(c.a.Component),j=_((function(e){return{cart:e.cart}}))(I),S=a(11).connect,A=a(18),w=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.call(this)}return Object(u.a)(a,[{key:"componentWillMount",value:function(){this.dispatch=this.props.dispatch}},{key:"handleCloseCart",value:function(){this.dispatch(A.closeCart())}},{key:"handleCheckout",value:function(){this.dispatch(A.emptyCart()),window.open(g.a.cart.checkoutUrl,"_self")}},{key:"handleClearCart",value:function(){this.dispatch(A.clearCart())}},{key:"render",value:function(){var e=this,t=this.props.cart,a=t.isOpen,n=t.lineItems,r=(t.lineItemCount,t.subtotal);return c.a.createElement("div",{className:"cart "+(a?"js-active":"")},c.a.createElement("div",{className:"cart-section cart-section--top"},c.a.createElement("h2",{className:"cart-title"},"Your cart: ",a),c.a.createElement("button",{className:"btn--close"},c.a.createElement("div",{onClick:this.handleCloseCart.bind(this)},"\xd7"),c.a.createElement("span",{className:"hide"},"Close"))),c.a.createElement("div",{className:"cart-form"},c.a.createElement("div",{className:"cart-item-container cart-section"},c.a.createElement("div",null,function(){if(n.length>0)return n.map((function(e){return c.a.createElement(j,{key:e.id,item:e,quantity:e.quantity})}))}()),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){return e.handleClearCart()},className:"btn btn_clear"},"Clear"),";")),c.a.createElement("div",{className:"cart-bottom"},c.a.createElement("div",{className:"cart-info clearfix cart-section"},c.a.createElement("div",{className:"type--caps cart-info__total cart-info__small"},"Total"),c.a.createElement("div",{className:"cart-info__pricing"},c.a.createElement("span",{className:"cart-info__small cart-info__total"},"USD"),c.a.createElement("span",{className:"pricing pricing--no-padding"},O.a.formatAsMoney(r)))),c.a.createElement("div",{className:"cart-actions-container cart-section type--center"},c.a.createElement("div",{className:"cart-discount-notice cart-info__small"},"Shipping and discount codes are added at checkout."),c.a.createElement("input",{type:"submit",className:"btn btn--cart-checkout",id:"checkout",name:"checkout",value:"Checkout",onClick:function(){return e.handleCheckout()}})))))}}]),a}(c.a.Component),k=S((function(e){return{cart:e.cart}}))(w),P=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={title:"",content:""},n}return Object(u.a)(a,[{key:"render",value:function(){var e={title:"Wishbone Hats",description:"Wishbone Hats",meta:{charset:"utf-8"},auto:{ograph:!0}},t=this.props.location.pathname.substr(1).split("/");return c.a.createElement("div",{id:"main",className:"page-".concat(t[0]?t[0]+" subpage":"home")},c.a.createElement(v.a,e),c.a.createElement(b,null),c.a.createElement("div",{id:"main-container"},c.a.createElement(k,null),this.props.children),c.a.createElement(y,null))}}]),a}(c.a.Component),L=(a(110),a(126),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h3",{className:"section-header"},"Instagram"),c.a.createElement("div",{className:"instagram-feed",id:"instafeed"}))}}]),a}(c.a.Component));function R(e){return c.a.createElement("div",{className:"loader"},c.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-3x fa-fw"}))}var D=a(11).connect,U=a(16),M=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){Object(s.a)(this,a);return t.call(this)}return Object(u.a)(a,[{key:"render",value:function(){var e,t,a=this,n=this.props,r=n.dispatch,i=n.collectionId,o=n.collections,s=n.activeCollection,u=n.showHeadline;i?e=O.a.searchObjects(i,"key",o.all).products:(e=g.a.getCurrentCollection()[1])[t=s.activeProduct.index];return c.a.createElement("div",{className:"products"},c.a.createElement("h4",{className:"collection__subheadline ".concat(this.props.error?"error":""," ").concat(u?"":"hide")},"Choose ",c.a.createElement("span",{className:"font-black"},"HAT")," color:"),c.a.createElement("div",{className:"option-colors"},e.map((function(e,n){var s=e.title.split(" - ").slice(-1)[0];return c.a.createElement("div",{"data-tip":s,key:n,className:"option-color option-color__".concat(s.replace(/\s+/g,"-").replace("-/-","_").toLowerCase()," ").concat(t==n&&o.productIsSelected?"active":""),onClick:function(e){!function(e){var t={index:e};a.setState({selected:!0}),a.props.handleOptionChange&&a.props.handleOptionChange(),r(U.changeActiveProduct(t)),r(U.productIsSelected(!0)),i&&l.f.push("/hat/".concat(i))}(n)}})}))))}}]),a}(c.a.Component),H=D((function(e){return{collections:e.collections,activeCollection:e.collections.active}}))(M),V=a(11).connect,x=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.call(this)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.id,n=e.image,r=(e.description,e.collections);return c.a.createElement("div",{className:"collection-item"},c.a.createElement("div",{className:"collection-item-inner"},c.a.createElement(l.c,{to:"/hat/".concat(a)},c.a.createElement("div",{className:"collection-item-image",style:{backgroundImage:"url("+n+")"}}))),c.a.createElement("h3",{className:"collection-item-title"},t),c.a.createElement(H,{collectionId:a}),c.a.createElement("div",{className:"price"},function(){var e=O.a.searchObjects(a,"key",r);if(e.products.length>0)return O.a.formatAsMoney(e.products[0].selectedVariant.price)}()))}}]),a}(c.a.Component),W=V((function(e){return{collections:e.collections.all}}))(x),q=a(11).connect,F=a(18),B=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.call(this)}return Object(u.a)(a,[{key:"handleAddToCart",value:function(e){var t=this.props.dispatch;e&&t(F.startAddorUpdateCartItem(e.selectedVariant,1))}},{key:"render",value:function(){var e=this,t=this.props.collections;return(t=t.slice(0,12)).length>0?c.a.createElement("div",null,c.a.createElement("div",{className:"homepage-hero"},c.a.createElement("img",{src:"/images/good-luck-good-cause.png"}),c.a.createElement("div",{className:"subheader"},"Customize your lucky Wishbone Hat. For every hat sold, $5 will go to a charity you choose."),c.a.createElement(l.c,{to:"/hats/",className:"button hollow"},"View Hat Styles"),c.a.createElement(l.c,{href:"#hats",className:"arrow-down"},c.a.createElement("i",{className:"fa fa-angle-down","aria-hidden":"true"}))),c.a.createElement("div",{id:"hats"}),c.a.createElement("div",{className:"container"},c.a.createElement("h3",{className:"hat-styles-header"},"HAT STYLES"),c.a.createElement("h4",{className:"hat-styles-subheader"},"(Choose a style then select your colors)"),c.a.createElement("div",{className:"collections-grid"},t.map((function(t){return c.a.createElement(W,{key:t.key,addToCart:function(){return e.handleAddToCart(t)},id:t.attrs.collection_id,image:t.attrs.image.src,title:t.attrs.title,description:t.attrs.body_html})})))),c.a.createElement("div",{className:"homepage-hero-bottom"}),c.a.createElement("h3",{className:"section-header"},"News"),c.a.createElement("div",{className:"news"},c.a.createElement("div",{id:"news-item-wishbone",className:"news-item"},c.a.createElement("div",{className:"news-item-inner"},c.a.createElement(l.c,{to:"/news/226615620"},c.a.createElement("div",{className:"link-content"},"Wishbone Hats")))),c.a.createElement("div",{id:"news-item-charities",className:"news-item"},c.a.createElement("div",{className:"news-item-inner"},c.a.createElement(l.c,{to:"/news/226615620"},c.a.createElement("div",{className:"link-content"},"About the Charities"))))),c.a.createElement(L,null)):c.a.createElement(R,null)}}]),a}(c.a.Component),G=q((function(e){return{collections:e.collections.all}}))(B),z=a(11).connect,Y=a(18),$=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.call(this)}return Object(u.a)(a,[{key:"handleAddToCart",value:function(e){var t=this.props.dispatch;e&&t(Y.startAddorUpdateCartItem(e.selectedVariant,1))}},{key:"render",value:function(){var e=this,t=this.props.collections;return t.length>0?c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"small-12 column"},c.a.createElement("div",{className:"collections-grid"},t.map((function(t){return c.a.createElement(W,{key:t.key,addToCart:function(){return e.handleAddToCart()},id:t.attrs.collection_id,image:t.attrs.image.src,title:t.attrs.title,description:t.attrs.description})})))))):c.a.createElement(R,null)}}]),a}(c.a.Component),Q=z((function(e){return{collections:e.collections.all}}))($),J=a(33),K=a(66),X=a.n(K),Z=a(11).connect,ee=a(16),te=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.call(this)}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.activeCollection,r=g.a.getCurrentCollection()[1],i=n.activeProduct.index,o=r[i];return c.a.createElement("div",{className:"product-options"},o.options.map((function(t,n){if(console.log("active product: ",o),console.log("option name: ",t.name),"Title"!=t.name&&"Emblem"!=t.name)return console.log("selected o name: ",t.name),c.a.createElement("select",{key:n,name:t.name,value:t.selected,onChange:function(n){!function(t,n){o.options.filter((function(e){return e.name===t}))[0].selected=n;var c={index:i};e.props.handleOptionChange(),a(ee.changeActiveProduct(c))}(t.name,n.target.value)}},t.values.map((function(e,t){return c.a.createElement("option",{key:t,value:e},e)})))})))}}]),a}(c.a.Component),ae=Z((function(e){return{activeCollection:e.collections.active}}))(te),ne=a(11).connect,ce=(a(16),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={active:null},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=(t.dispatch,t.activeCollection),n=g.a.getCurrentCollection()[1][a.activeProduct.index];return c.a.createElement("div",{className:"emblem-colors"},c.a.createElement("h4",{className:"collection__subheadline ".concat(this.props.error?"error":"")},"Choose ",c.a.createElement("span",{className:"font-black"},"WISHBONE")," color: (3D puff embroidery)"),n.options.map((function(t,a){if("Emblem"==t.name)return c.a.createElement("div",{key:a,className:"option-colors"},t.values.map((function(a,n){return c.a.createElement("div",{key:n,"data-tip":a,className:"option-color option-color__".concat(a.replace(/\s+/g,"-").replace("-/-","_").toLowerCase()," ").concat(a==e.state.active?"active":""),onClick:function(n){!function(t,a){e.props.handleOptionChange(t,a),e.setState({active:a})}(t.name,a)}})})))})))}}]),a}(c.a.Component)),re=ne((function(e){return{activeCollection:e.collections.active}}))(ce),ie=a(11).connect,oe=(a(16),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.call(this)}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=(t.dispatch,t.activeCollection);return g.a.getCurrentCollection()[1][a.activeProduct.index].options.map((function(t,a){if("Size"==t.name)return c.a.createElement("div",{className:"product-sizes"},c.a.createElement("ul",{key:a,className:"product-sizes"},t.values.map((function(a,n){return c.a.createElement("li",{key:n,className:"product-size ".concat(t.selected===a?"selected":""),onClick:function(){e.handleOptionChange(t.name,a)}},a)}))))})),c.a.createElement("div",null)}}]),a}(c.a.Component)),le=ie((function(e){return{activeCollection:e.collections.active}}))(oe),se=a(11).connect,ue=a(16),me=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={modalIsOpen:!1,charities:null},e.openModal=e.openModal.bind(Object(p.a)(e)),e.closeModal=e.closeModal.bind(Object(p.a)(e)),e}return Object(u.a)(a,[{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"componentWillMount",value:function(){var e=this;g.a.getCharities().then((function(t){e.setState({charities:t}),console.log("Setting charities to state: ",t)}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=(t.activeCollection,t.activeCharity),r=this.state.charities;return r?(setTimeout((function(){J.a.rebuild()}),20),c.a.createElement("div",{className:"charities-wrapper"},c.a.createElement("h4",{className:"collection__subheadline ".concat(this.props.error?"error":"")},"Please select a charity. ",c.a.createElement("small",{className:"font-orange nobr"},"- $5 will go to the charity you choose!")),c.a.createElement("div",{className:"charities"},r.map((function(t){var r,i,o=null===t||void 0===t||null===(r=t.optionValues[0])||void 0===r?void 0:r.value,l=null===t||void 0===t||null===(i=t.optionValues[1])||void 0===i?void 0:i.value;return c.a.createElement("div",{"data-tip":l,className:"charity ".concat(n&&n.id===t.id?"active":""),onClick:function(){e.props.handleOptionChange(),a(ue.setCharity(t))}},o)}))))):c.a.createElement("div",null)}}]),a}(c.a.Component),de=se((function(e){return{activeCollection:e.collections.active,activeCharity:e.collections.charity}}))(me),he=a(11).connect,ve=(a(59),a(16)),pe=a(18),fe=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a),(e=t.call(this)).state={dataFetched:!1,imageStatus:"loading",productSelected:!1,emblemSelected:!1,charitySelected:!1,showError:!1};return e.handleProductChange=e.handleProductChange.bind(Object(p.a)(e)),e.handleEmblemChange=e.handleEmblemChange.bind(Object(p.a)(e)),e.handleOptionChange=e.handleOptionChange.bind(Object(p.a)(e)),e.handleCharityChange=e.handleCharityChange.bind(Object(p.a)(e)),e}return Object(u.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.dispatch=this.props.dispatch;var t,a=this.props.params.collectionId;this.props.activeCollection?(t=this.props.activeCollection.activeProduct.index,this.setState({productSelected:!0})):t=0,g.a.activateCollection(a,t).then((function(t){var a=t[0];e.dispatch(ve.setActiveCollection(a)),e.setState({dataFetched:!0})}))}},{key:"componentWillUnmount",value:function(){this.dispatch(ve.productIsSelected(!1)),this.dispatch(ve.clearActiveCollection())}},{key:"handleProductChange",value:function(){this.setState({imageStatus:"loading",productSelected:!0}),this.state.emblemSelected&&this.handleEmblemChange("Emblem",this.state.emblemSelected)}},{key:"handleOptionChange",value:function(){this.setState({optionSelected:!0}),this.state.emblemSelected&&this.handleEmblemChange("Emblem",this.state.emblemSelected)}},{key:"handleEmblemChange",value:function(e,t){var a=g.a.getCurrentCollection()[1],n=this.props.activeCollection.activeProduct.index;a[n];this.setState({imageStatus:"loading",emblemSelected:t}),g.a.changeProduct(t);var c={index:n};this.dispatch(ve.changeActiveProduct(c))}},{key:"handleCharityChange",value:function(){this.setState({charitySelected:!0})}},{key:"handleImageLoaded",value:function(){this.setState({imageStatus:"loaded"})}},{key:"handleImageErrored",value:function(){this.setState({imageStatus:"failed to load"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.activeCollection;if(this.state.dataFetched){var r=g.a.getCurrentCollection()[1][n.activeProduct.index],i=(n.collection_id,n.body_html),o=n.title,l=(n.image,r.selectedVariant),s=r.selectedVariantImage,u=function(){if(i)return c.a.createElement("div",{className:"description"},c.a.createElement("h5",{className:"collection__subheadline show-for-medium"},"Description"),c.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}}))};return c.a.createElement("div",null,c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"collection-title hide-for-medium"},o),c.a.createElement("div",{className:"hide-for-medium"},c.a.createElement("div",{className:"accordion"},c.a.createElement(X.a,{trigger:"Description",transitionTime:200},u()))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"small-12 medium-7 column"},c.a.createElement("div",{className:"active-product-image"},c.a.createElement("img",{src:s.variants[7].src,onLoad:this.handleImageLoaded.bind(this),onError:this.handleImageErrored.bind(this)}),"loading"===this.state.imageStatus?c.a.createElement(R,null):"")),c.a.createElement("div",{className:"small-12 medium-5 column"},c.a.createElement("h1",{className:"collection-title show-for-medium"},o),c.a.createElement("div",{className:"collection-info"},c.a.createElement("div",{className:"show-for-medium"},u()),c.a.createElement(H,{error:this.state.showError&&!this.state.productSelected,handleOptionChange:this.handleProductChange,showHeadline:!0}),c.a.createElement(re,{error:this.state.showError&&!this.state.emblemSelected,handleOptionChange:this.handleEmblemChange}),c.a.createElement(ae,{handleOptionChange:this.handleOptionChange}),c.a.createElement(le,null),c.a.createElement(de,{error:this.state.showError&&!this.state.charitySelected,handleOptionChange:this.handleCharityChange}),c.a.createElement("div",{className:"product-price"},O.a.formatAsMoney(l.price)),c.a.createElement("div",{className:"add-to-cart-wrapper"},c.a.createElement("button",{onClick:function(){e.state.productSelected&&e.state.emblemSelected&&e.state.charitySelected?a(pe.startAddorUpdateCartItem(r.selectedVariant,1)):e.setState({showError:!0})},className:"button large add-to-cart"},"Add To Cart")),c.a.createElement("div",{className:"error-msg ".concat(!this.state.showError||this.state.productSelected&&this.state.emblemSelected&&this.state.charitySelected?"":"active")},"Please make selections above to continue."),c.a.createElement("ul",{className:"payment-method-icons"},c.a.createElement("li",null,c.a.createElement("i",{className:"fa fa-cc-visa"})),c.a.createElement("li",null,c.a.createElement("i",{className:"fa fa-cc-mastercard"})),c.a.createElement("li",null,c.a.createElement("i",{className:"fa fa-cc-discover"})),c.a.createElement("li",null,c.a.createElement("i",{className:"fa fa-cc-amex"})),c.a.createElement("li",null,c.a.createElement("i",{className:"fa fa-cc-paypal"}))))))),c.a.createElement(L,null),c.a.createElement(J.a,{multiline:!0,className:"tooltip"}))}return c.a.createElement(R,null)}}]),a}(c.a.Component),Ee=he((function(e){return{activeCollection:e.collections.active}}))(fe),Ce=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.call(this)}return Object(u.a)(a,[{key:"render",value:function(){return c.a.createElement("section",{className:"section"},c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"Login"),c.a.createElement("form",null,c.a.createElement("input",{type:"text",placeholder:"Email"}),c.a.createElement("input",{type:"password",placeholder:"Password"}),c.a.createElement("input",{type:"submit",className:"button",value:"Login"}))))}}]),a}(c.a.Component),be=a(32),ge=a.n(be),ye=(a(11).connect,a(18),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={data:null},e}return Object(u.a)(a,[{key:"componentWillMount",value:function(){var e=this;ge.a.get("/shopify/get-news-item",{params:{blog_id:"91669572",post_id:this.props.params.postId}}).then((function(t){console.log("got news data from api",t.data),e.setState({data:t.data})})).catch((function(e){return console.log("Error: ",e)}))}},{key:"render",value:function(){var e=this.state.data;if(e){return c.a.createElement("div",{className:"container page"},c.a.createElement("h1",null,e.title),c.a.createElement("div",{className:"body",dangerouslySetInnerHTML:{__html:e.body_html}}))}return c.a.createElement(R,null)}}]),a}(c.a.Component)),Ne=(a(11).connect,function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={data:null},e}return Object(u.a)(a,[{key:"setPageContent",value:function(e){e.location.pathname.slice(1);this.setState({data:g.a.getPage(e.location.pathname.slice(1))})}},{key:"componentWillReceiveProps",value:function(e){this.setPageContent(e)}},{key:"componentWillMount",value:function(){var e=this;g.a.fetchPageContent().then((function(){e.setPageContent(e.props)}))}},{key:"render",value:function(){var e=this.state.data;if(e){return c.a.createElement("div",{className:"container page"},c.a.createElement("h1",null,e.title),c.a.createElement("div",{className:"body",dangerouslySetInnerHTML:{__html:e.body_html}}))}return c.a.createElement(R,null)}}]),a}(c.a.Component)),Oe=a(42);a(11).connect,a(39).configure();l.f.listen((function(e){!function(e){Oe.a.set({page:e.pathname}),Oe.a.pageview(e.pathname)}(e),window.scrollTo(0,0)}));var _e=c.a.createElement(l.e,{history:l.f},c.a.createElement(l.d,{path:"/",component:P},c.a.createElement(l.b,{path:"/",component:G}),c.a.createElement(l.d,{path:"hats",component:Q}),c.a.createElement(l.d,{path:"hat/:collectionId",component:Ee}),c.a.createElement(l.d,{path:"login",component:Ce}),c.a.createElement(l.d,{path:"about",component:Ne}),c.a.createElement(l.d,{path:"contact",component:Ne}),c.a.createElement(l.d,{path:"news/:postId",component:ye}))),Te=(a(133),a(16)),Ie=(a(134),a(59)),je=a(39).configure();je.subscribe((function(){je.getState()})),je.dispatch(Ie.startAddProducts()),je.dispatch(Object(Te.startAddCollections)()),console.log("fetch opage"),g.a.fetchPageContent(),g.a.createCart().then((function(e){je.dispatch({type:"SET_INITIAL_CART_STATE",localCart:e})})),i.a.render(c.a.createElement(o.Provider,{store:je},_e),document.getElementById("app"))},14:function(e,t){e.exports.formatAsMoney=function(e,t,a,n,c){t=t||"$",a=a||",",n=n||".",c=c||".";var r=new RegExp("(\\d)(?=(\\d{3})+\\.)","g");return t+parseFloat(e,10).toFixed(2).replace(c,n).replace(r,"$1"+a).toString()},e.exports.searchObjects=function(e,t,a){for(var n=0;n<a.length;n++)if(a[n][t]===e)return a[n]}},16:function(e,t,a){"use strict";a.r(t),a.d(t,"setActiveCollection",(function(){return r})),a.d(t,"startAddCollections",(function(){return i})),a.d(t,"addCollections",(function(){return o})),a.d(t,"changeActiveProduct",(function(){return l})),a.d(t,"productIsSelected",(function(){return s})),a.d(t,"setCharity",(function(){return u})),a.d(t,"clearActiveCollection",(function(){return m}));var n=a(9),c=a(7),r=function(e){return{type:"SET_ACTIVE_COLLECTION",collection:e}},i=function(){return function(e){return new Promise((function(t,a){c.a.buyClient.fetchAllCollections().then((function(a){var r=[],i=(a||{}).map((function(e){var t=e.attrs.collection_id;return new Promise((function(a,i){var o=[];c.a.buyClient.fetchQueryProducts({collection_id:t,sort_by:"collection-default"}).then((function(c){o=c||[],r.push(Object(n.a)({key:t,products:o},e)),a()}))}))}));Promise.all(i).then((function(){r.sort((function(e,t){var a=e.attrs.title,n=t.attrs.title;return a<n?-1:a>n?1:0})),e(o(r)),t()}))}))}))}},o=function(e){return{type:"ADD_COLLECTIONS",collections:e}},l=function(e){return{type:"CHANGE_ACTIVE_PRODUCT",updatedActiveProduct:e}},s=function(e){return{type:"PRODUCT_IS_SELECTED",isSelected:e}},u=function(e){return{type:"SET_CHARITY",charity:e}},m=function(){return{type:"CLEAR_ACTIVE_COLLECTION"}}},18:function(e,t,a){"use strict";a.r(t),a.d(t,"startAddorUpdateCartItem",(function(){return c})),a.d(t,"clearCharitiesFromCart",(function(){return r})),a.d(t,"addToCart",(function(){return i})),a.d(t,"emptyCart",(function(){return o})),a.d(t,"clearCart",(function(){return l})),a.d(t,"updateCartSubtotal",(function(){return s})),a.d(t,"updateCartItemsCount",(function(){return u})),a.d(t,"updateCartItem",(function(){return m})),a.d(t,"openCart",(function(){return d})),a.d(t,"closeCart",(function(){return h}));var n=a(7),c=function(e,t){return function(a,n){var c=n().cart,o=l(e.variant_id?e.variant_id:e.id);function l(e){return c.lineItems.filter((function(t){return t.variant_id===e}))[0]}a(o?m(o,parseInt(t)):i(e,t)),a(s()),a(u(t));var d=n().collections.charity;d&&(console.log("cart",c),l(d.variant_id)||(a(r()),a(i(d,1))))}},r=function(){return function(e,t){var a=t().cart.lineItems.filter((function(e){return console.log("item.title",e.title),"Charity"===e.title}));console.log("charities in cart",a),a.length>0&&a.map((function(t){e(m(t,0,!0))})),e({type:"SET_CHARITY",undefined:void 0})}},i=function(e,t){return function(a,c){n.a.cart.createLineItemsFromVariants({variant:e,quantity:t}).then((function(e){var t=e.lineItems;a({type:"UPDATE_CART_ITEMS",updatedCartItems:t}),a(d())})).catch((function(e){console.log("Failed to addToCart",e)}))}},o=function(){return function(e,t){e({type:"CLEAR_CART_ITEMS"}),e(h())}},l=function(){return function(e,t){n.a.cart.clearLineItems().then((function(t){var a=t.lineItems;e({type:"UPDATE_CART_ITEMS",updatedCartItems:a}),e(s())})).catch((function(e){console.log("coundnt remove items: ",e)}))}},s=function(){return function(e,t){e({type:"UPDATE_CART_SUBTOTAL",newSubtotal:n.a.cart.subtotal})}},u=function(e){return function(t,a){var n=a().cart,c=parseInt(n.lineItemsCount)+parseInt(e);t({type:"UPDATE_CART_ITEMS_COUNT",updatedCartItemsCount:c}),parseInt(c)<1?t(h()):t(d())}},m=function(e,t,a){return function(c,r){var i,o=r().cart;i=a?0:e.quantity+t;var l=[];o.lineItems.forEach((function(t){if(e.id===t.id){if(i>0){var a=[];(a=t).quantity=i,l.push(a)}}else l.push(t)})),n.a.cart.updateLineItem(e.id,i).then((function(){c({type:"UPDATE_CART_ITEMS",updatedCartItems:l})}))}},d=function(){return{type:"OPEN_CART"}},h=function(){return{type:"CLOSE_CART"}}},39:function(e,t,a){"use strict";a.r(t),a.d(t,"configure",(function(){return u}));var n=a(19),c=a(65),r=a(9),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{all:[],active:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCTS":return Object(r.a)({},e,{all:t.products});case"SET_ACTIVE_PRODUCT":return Object(r.a)({},e,{active:Object(r.a)({},e.active,{fetched:!0,options:t.options})});case"CLEAR_ACTIVE_PRODUCT":return Object(r.a)({},e,{active:null});case"UPDATE_ACTIVE_PRODUCT_OPTIONS":return Object(r.a)({},e,{active:Object(r.a)({},e.active,{options:t.options})});default:return e}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{all:[],active:null,charity:null,productIsSelected:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COLLECTIONS":return Object(r.a)({},e,{all:t.collections});case"SET_ACTIVE_COLLECTION":return Object(r.a)({},e,{active:t.collection});case"CHANGE_ACTIVE_PRODUCT":return Object(r.a)({},e,{active:Object(r.a)({},e.active,{activeProduct:t.updatedActiveProduct})});case"PRODUCT_IS_SELECTED":return Object(r.a)({},e,{productIsSelected:t.isSelected});case"SET_CHARITY":return Object(r.a)({},e,{charity:t.charity});case"CLEAR_ACTIVE_COLLECTION":return Object(r.a)({},e,{active:null});default:return e}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1,lineItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIAL_CART_STATE":return Object(r.a)({},t.localCart);case"UPDATE_CART_ITEMS":return Object(r.a)({},e,{lineItems:t.updatedCartItems});case"UPDATE_CART_ITEMS_COUNT":return Object(r.a)({},e,{lineItemsCount:t.updatedCartItemsCount});case"UPDATE_CART_SUBTOTAL":return Object(r.a)({},e,{subtotal:t.newSubtotal});case"OPEN_CART":return Object(r.a)({},e,{isOpen:!0});case"CLOSE_CART":return Object(r.a)({},e,{isOpen:!1});case"CLEAR_CART_ITEMS":return Object(r.a)({},e,{lineItems:[]});default:return e}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showClose:!1,showNav:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_NAV_ICON":return Object(r.a)({},e,{showClose:!e.showClose,showNav:e.showNav});case"TOGGLE_NAV":return Object(r.a)({},e,{showClose:!e.showClose,showNav:!e.showNav});case"CLOSE_NAV":return Object(r.a)({},e,{showClose:!1,showNav:!1});default:return e}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.c({products:i,collections:o,cart:l,nav:s}),a=n.e(t,e,n.d(n.a(c.a),window.devToolsExtension?window.devToolsExtension():function(e){return e}));return a}},59:function(e,t,a){"use strict";a.r(t),a.d(t,"startAddProducts",(function(){return c})),a.d(t,"addProducts",(function(){return r})),a.d(t,"preloadProductImages",(function(){return i})),a.d(t,"setActiveProduct",(function(){return o})),a.d(t,"clearActiveProduct",(function(){return l})),a.d(t,"updateActiveProductOptions",(function(){return s}));var n=a(7),c=function(){return function(e){return n.a.buyClient.fetchAllProducts().then((function(t){var a=(t||{}).map((function(e,t){var a=[];return(a=e).key=t,a}));e(r(a)),e(i())}))}},r=function(e){return{type:"ADD_PRODUCTS",products:e}},i=function(){return function(e,t){var a=t().products.all,n=[];a.map((function(e,t){return n[t]=new Image,n[t].src=e.selectedVariant.imageVariants[4].src,n[t]}))}},o=function(e){return{type:"SET_ACTIVE_PRODUCT",options:e}},l=function(){return{type:"CLEAR_ACTIVE_PRODUCT"}},s=function(e){return{type:"UPDATE_ACTIVE_PRODUCT_OPTIONS",options:e}}},67:function(e,t,a){e.exports=a(135)},7:function(e,t,a){"use strict";var n=a(9),c=a(3),r=a(4),i=a(32),o=a.n(i),l=(a(0),a(104)),s=(a(39).configure(),function(){function e(){Object(c.a)(this,e),this.buyClient=l.buildClient({apiKey:"5bdd1cfb6d32ad4160261643dda11f1c",domain:"wishbone-hats.myshopify.com",appId:6}),this.cart={},this.collection={},this.products=[],this.pages=[]}return Object(r.a)(e,[{key:"fetchPageContent",value:function(){var e=this;return o.a.get("http://localhost:3000/shopify/get-pages").then((function(t){console.log("resp",t),e.pages=t.data})).catch((function(e){return console.log("Error: ",e)}))}},{key:"getPage",value:function(e){var t=[];return console.log("pages: ",this.pages),this.pages.map((function(a){a.handle===e&&t.push(a)})),t[0]}},{key:"activateCollection",value:function(e,t){var a=this,c=new Promise((function(c,r){a.buyClient.fetchCollection(e).then((function(e){var r=e.attrs||{},i=Object(n.a)({},r,{activeProduct:{index:t}});a.collection=i,c(i)}))})),r=new Promise((function(t,n){a.buyClient.fetchQueryProducts({collection_id:e,sort_by:"collection-default"}).then((function(e){var n=e||[];a.products=n,t(n)}))}));return Promise.all([c,r]).then((function(e){return e}),(function(e){return e}))}},{key:"changeProduct",value:function(e){this.products.map((function(t){t.options.filter((function(e){return"Emblem"===e.name}))[0].selected=e}))}},{key:"getCurrentCollection",value:function(e){return[this.collection,this.products]}},{key:"getCharities",value:function(){var e=this;return new Promise((function(t,a){e.buyClient.fetchQueryProducts({tag:["Charity"]}).then((function(e){var a=e[0].variants||[];console.log("got charities data: ",e),t(a)}))}))}},{key:"createCart",value:function(){var e=this;return new Promise((function(t,a){e.buyClient.createCart().then((function(a){localStorage.setItem("lastCartId",a.id),e.cart=a;t({isOpen:!1,lineItemsCount:0,lineItems:[],subtotal:0})}))}))}},{key:"restoreCart",value:function(){var e=this;return new Promise((function(t,a){e.buyClient.fetchCart(localStorage.getItem("lastCartId")).then((function(a){e.cart=a;var n={isOpen:!1,lineItemsCount:a.lineItemCount,lineItems:a.lineItems,subtotal:a.subtotal};t(n)}))}))}}]),e}());t.a=new s}},[[67,1,2]]]);
//# sourceMappingURL=main.b043238c.chunk.js.map